<!DOCTYPE html>
<html lang="en">
    <head>
        {% load static %}
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Login - VoteIN</title>
        <!-- <link rel="stylesheet" href="../../includes/css/student_styles.css"> -->
        <link rel="stylesheet" href="{% static 'css/student_styles.css' %}" />
    </head>
    <style>
        .admin_login_link_a:hover .icon-img {
            content: url("{% static 'images/admin_blue.png' %}");
        }
    </style>

    <body>
        <div class="container">
            <!-- Left Panel - Decorative -->
            <div class="decorative-panel Left_Panel">
                <div class="panel-content">
                    <img
                        src="{% static 'images/student_login_icon.png' %}"
                        class="panel-icon"
                        alt=""
                    />
                    <h1 class="panel-heading">Welcome Back</h1>
                    <p class="panel-description">
                        Login to access your account
                    </p>
                    <div class="feature-item">
                        <img
                            src="{% static 'images/check_white.png' %}"
                            class="feature-icon"
                        />
                        <span class="feature-text">Secure Login</span>
                    </div>
                    <div class="feature-item">
                        <img
                            src="{% static 'images/shield.png' %}"
                            class="feature-icon"
                        />
                        <span class="feature-text">Protected Account</span>
                    </div>
                    <div class="feature-item">
                        <img
                            src="{% static 'images/vote2.png' %}"
                            class="feature-icon"
                        />
                        <span class="feature-text">Access Elections</span>
                    </div>
                </div>
            </div>

            <!-- Right Panel -->
            <div class="right-panel">
                <div class="form-container">
                    <!-- Login Form -->
                    <form method="POST" action="{% url 'student_login' %}">
                        {% csrf_token %} {% if error_message %}
                        <div class="error-message">{{ error_message }}</div>
                        {% endif %}

                        <!-- Student ID -->
                        <div class="form-group">
                            <label for="username">Student ID</label>
                            <div class="relative">
                                <img
                                    src="{% static 'images/id.png' %}"
                                    alt=""
                                />
                                <input
                                    type="text"
                                    id="username"
                                    name="username"
                                    required
                                    placeholder="Enter your student ID"
                                    class="form-group-input"
                                />
                            </div>
                        </div>

                        <!-- Password -->
                        <div class="form-group">
                            <label for="password">Password</label>
                            <div class="relative">
                                <img
                                    src="{% static 'images/lock.png' %}"
                                    alt=""
                                />
                                <input
                                    type="password"
                                    id="password"
                                    name="password"
                                    required
                                    placeholder="Enter your password"
                                    class="form-group-input"
                                />
                                <button
                                    type="button"
                                    id="togglePassword"
                                    class="toggle-password2"
                                >
                                    <img
                                        src="{% static 'images/close_eye.png' %}"
                                        alt="Toggle Password"
                                    />
                                </button>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <button type="submit" class="form-button">
                            <img
                                src="{% static 'images/login.png' %}"
                                alt=""
                            />Login
                        </button>

                        <!-- Register Link -->
                        <p class="link">
                            Don't have an account?
                            <a href="{% url 'student_register' %}"
                                >Register here</a
                            >
                        </p>
                    </form>
                </div>
            </div>
        </div>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Toggle Password Visibility
                const togglePassword =
                    document.getElementById("togglePassword");
                const passwordInput = document.getElementById("password");
                const togglePasswordImage = togglePassword.querySelector("img");

                togglePassword.addEventListener("click", () => {
                    if (passwordInput.type === "password") {
                        passwordInput.type = "text";
                        togglePasswordImage.src =
                            "{% static 'images/open_eye.png' %}";
                    } else {
                        passwordInput.type = "password";
                        togglePasswordImage.src =
                            "{% static 'images/close_eye.png' %}";
                    }
                });
            });
        </script>
    </body>
</html>
